.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purposee registers

.section .text

.align 4

glabel osCreateThread
/* 005150 80004550 27BDFFD8 */  addiu $sp, $sp, -0x28
/* 005154 80004554 AFA40028 */  sw    $a0, 0x28($sp)
/* 005158 80004558 AFA5002C */  sw    $a1, 0x2c($sp)
/* 00515C 8000455C 8FAE002C */  lw    $t6, 0x2c($sp)
/* 005160 80004560 8FAF0028 */  lw    $t7, 0x28($sp)
/* 005164 80004564 AFBF001C */  sw    $ra, 0x1c($sp)
/* 005168 80004568 AFA60030 */  sw    $a2, 0x30($sp)
/* 00516C 8000456C AFA70034 */  sw    $a3, 0x34($sp)
/* 005170 80004570 AFB00018 */  sw    $s0, 0x18($sp)
/* 005174 80004574 ADEE0014 */  sw    $t6, 0x14($t7)
/* 005178 80004578 8FB90028 */  lw    $t9, 0x28($sp)
/* 00517C 8000457C 8FB8003C */  lw    $t8, 0x3c($sp)
/* 005180 80004580 AF380004 */  sw    $t8, 4($t9)
/* 005184 80004584 8FA80028 */  lw    $t0, 0x28($sp)
/* 005188 80004588 AD000000 */  sw    $zero, ($t0)
/* 00518C 8000458C 8FA90028 */  lw    $t1, 0x28($sp)
/* 005190 80004590 AD200008 */  sw    $zero, 8($t1)
/* 005194 80004594 8FAB0028 */  lw    $t3, 0x28($sp)
/* 005198 80004598 8FAA0030 */  lw    $t2, 0x30($sp)
/* 00519C 8000459C AD6A011C */  sw    $t2, 0x11c($t3)
/* 0051A0 800045A0 8FAC0034 */  lw    $t4, 0x34($sp)
/* 0051A4 800045A4 8FAD0028 */  lw    $t5, 0x28($sp)
/* 0051A8 800045A8 01807825 */  move  $t7, $t4
/* 0051AC 800045AC 000C77C3 */  sra   $t6, $t4, 0x1f
/* 0051B0 800045B0 ADAE0038 */  sw    $t6, 0x38($t5)
/* 0051B4 800045B4 ADAF003C */  sw    $t7, 0x3c($t5)
/* 0051B8 800045B8 8FB80038 */  lw    $t8, 0x38($sp)
/* 0051BC 800045BC 8FB90028 */  lw    $t9, 0x28($sp)
/* 0051C0 800045C0 3C0C8000 */  lui   $t4, %hi(func_800042F0) # $t4, 0x8000
/* 0051C4 800045C4 03004825 */  move  $t1, $t8
/* 0051C8 800045C8 2D210010 */  sltiu $at, $t1, 0x10
/* 0051CC 800045CC 001847C3 */  sra   $t0, $t8, 0x1f
/* 0051D0 800045D0 01015023 */  subu  $t2, $t0, $at
/* 0051D4 800045D4 252BFFF0 */  addiu $t3, $t1, -0x10
/* 0051D8 800045D8 AF2B00F4 */  sw    $t3, 0xf4($t9)
/* 0051DC 800045DC AF2A00F0 */  sw    $t2, 0xf0($t9)
/* 0051E0 800045E0 8FAD0028 */  lw    $t5, 0x28($sp)
/* 0051E4 800045E4 258C42F0 */  addiu $t4, %lo(func_800042F0) # addiu $t4, $t4, 0x42f0
/* 0051E8 800045E8 01807825 */  move  $t7, $t4
/* 0051EC 800045EC 000C77C3 */  sra   $t6, $t4, 0x1f
/* 0051F0 800045F0 ADAE0100 */  sw    $t6, 0x100($t5)
/* 0051F4 800045F4 ADAF0104 */  sw    $t7, 0x104($t5)
/* 0051F8 800045F8 8FA90028 */  lw    $t1, 0x28($sp)
/* 0051FC 800045FC 3C18003F */  lui   $t8, (0x003FFF01 >> 16) # lui $t8, 0x3f
/* 005200 80004600 3718FF01 */  ori   $t8, (0x003FFF01 & 0xFFFF) # ori $t8, $t8, 0xff01
/* 005204 80004604 AFB80020 */  sw    $t8, 0x20($sp)
/* 005208 80004608 3408FF03 */  li    $t0, 65283
/* 00520C 8000460C AD280118 */  sw    $t0, 0x118($t1)
/* 005210 80004610 8FAA0020 */  lw    $t2, 0x20($sp)
/* 005214 80004614 8FAC0028 */  lw    $t4, 0x28($sp)
/* 005218 80004618 3C01003F */  lui   $at, 0x3f
/* 00521C 8000461C 01415824 */  and   $t3, $t2, $at
/* 005220 80004620 000BCC02 */  srl   $t9, $t3, 0x10
/* 005224 80004624 AD990128 */  sw    $t9, 0x128($t4)
/* 005228 80004628 8FAF0028 */  lw    $t7, 0x28($sp)
/* 00522C 8000462C 3C0E0100 */  lui   $t6, (0x01000800 >> 16) # lui $t6, 0x100
/* 005230 80004630 35CE0800 */  ori   $t6, (0x01000800 & 0xFFFF) # ori $t6, $t6, 0x800
/* 005234 80004634 ADEE012C */  sw    $t6, 0x12c($t7)
/* 005238 80004638 8FAD0028 */  lw    $t5, 0x28($sp)
/* 00523C 8000463C 24180001 */  li    $t8, 1
/* 005240 80004640 ADA00018 */  sw    $zero, 0x18($t5)
/* 005244 80004644 8FA80028 */  lw    $t0, 0x28($sp)
/* 005248 80004648 A5180010 */  sh    $t8, 0x10($t0)
/* 00524C 8000464C 8FA90028 */  lw    $t1, 0x28($sp)
/* 005250 80004650 0C001CA0 */  jal   func_80007280
/* 005254 80004654 A5200012 */   sh    $zero, 0x12($t1)
/* 005258 80004658 3C0A8001 */  lui   $t2, %hi(D_8000AD4C) # $t2, 0x8001
/* 00525C 8000465C 8D4AAD4C */  lw    $t2, %lo(D_8000AD4C)($t2)
/* 005260 80004660 8FAB0028 */  lw    $t3, 0x28($sp)
/* 005264 80004664 00408025 */  move  $s0, $v0
/* 005268 80004668 3C018001 */  lui   $at, %hi(D_8000AD4C) # $at, 0x8001
/* 00526C 8000466C AD6A000C */  sw    $t2, 0xc($t3)
/* 005270 80004670 8FB90028 */  lw    $t9, 0x28($sp)
/* 005274 80004674 02002025 */  move  $a0, $s0
/* 005278 80004678 0C001CBC */  jal   func_800072F0
/* 00527C 8000467C AC39AD4C */   sw    $t9, %lo(D_8000AD4C)($at)
/* 005280 80004680 8FBF001C */  lw    $ra, 0x1c($sp)
/* 005284 80004684 8FB00018 */  lw    $s0, 0x18($sp)
/* 005288 80004688 27BD0028 */  addiu $sp, $sp, 0x28
/* 00528C 8000468C 03E00008 */  jr    $ra
/* 005290 80004690 00000000 */   nop   
